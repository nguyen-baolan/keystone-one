<div class="bg-body dark:bg-darkmode-body">
  {{ $image := .Params.card_image | default .Params.image }}
  {{ if $image }}
    {{ partial "image" (dict "Src" $image "Context" .Page "Alt" .Title "Class" "mb-6 w-full rounded") }}
  {{ end }}

  {{ with .Params.parent_case }}
    {{ $parent := site.GetPage (printf "work/%s" .) }}
    {{ if $parent }}
      <p class="mb-2 text-sm text-text-light dark:text-darkmode-text-light">
        Part of <a class="underline hover:text-primary" href="{{ $parent.RelPermalink }}">{{ $parent.Title }}</a>
      </p>
    {{ end }}
  {{ end }}

  <h4 class="mb-3">
    <a href="{{ .RelPermalink }}">{{ .Title }}</a>
  </h4>

  {{ with .Params.challenge }}
    <p class="mb-2 text-sm">
      <span class="font-semibold">Challenge:</span> {{ . | markdownify }}
    </p>
  {{ end }}

  {{ with .Params.solution }}
    <p class="mb-6 text-sm">
      <span class="font-semibold">Solution:</span> {{ . | markdownify }}
    </p>
  {{ end }}

  <a class="btn btn-outline-primary btn-sm" href="{{ .RelPermalink }}">Read case study</a>
</div>

